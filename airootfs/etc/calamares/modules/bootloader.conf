---
# UEFI settings
efiBootLoader: "grub"
efiBootloaderId: "Alci"
efiDirectory: "/boot/efi"

# BIOS settings
bootloaderEntryName: "Alci"

# GRUB commands
grubInstall: "grub-install"
grubMkconfig: "grub-mkconfig"
grubCfg: "/boot/grub/grub.cfg"
grubProbe: "grub-probe"
efiBootMgr: "efibootmgr"

# Kernel settings
kernel: "_ALL_kver_"
img: "_default_image_"
fallback: "_fallback_image_"
timeout: "10"

# Critical settings
installEFIFallback: true
keepDistributor: false

# THIS IS THE KEY FIX - Allow hybrid GRUB installation
install_hybrid_grub: true

# --
# # UEFI settings
# efiBootLoader: "grub"
# efiBootloaderId: "Alci"
# efiDirectory: "/boot/efi"
#
# # BIOS settings
# bootloaderEntryName: "Alci"
#
# # GRUB commands
# grubInstall: "grub-install"
# grubMkconfig: "grub-mkconfig"
# grubCfg: "/boot/grub/grub.cfg"
# grubProbe: "grub-probe"
# efiBootMgr: "efibootmgr"
#
# # Kernel settings
# kernel: "_ALL_kver_"
# img: "_default_image_"
# fallback: "_fallback_image_"
# timeout: "10"
#
# # Critical: Install fallback for UEFI
# installEFIFallback: true
#
# # Add these - they tell GRUB where to install for BIOS mode
# # Without this, it might fail to detect the target disk
# grubInstall: "grub-install"
# installCommand: |
#   if [ -d /sys/firmware/efi ]; then
#     grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=Alci --recheck
#   else
#     DISK=$(lsblk -ndo PKNAME "@@ROOT@@" | head -n1)
#     grub-install --target=i386-pc --recheck /dev/${DISK}
#   fi
#   grub-mkconfig -o /boot/grub/grub.cfg

# efiBootLoader: "grub"
#
# kernel: "_ALL_kver_"
# img: "_default_image_"
# fallback: "_fallback_image_"
# timeout: "10"
#
# bootloaderEntryName: "Alci"
#
# grubInstall: "grub-install"
# grubMkconfig: "grub-mkconfig"
# grubCfg: "/boot/grub/grub.cfg"
# grubProbe: "grub-probe"
# efiBootMgr: "efibootmgr"
# installEFIFallback: true
